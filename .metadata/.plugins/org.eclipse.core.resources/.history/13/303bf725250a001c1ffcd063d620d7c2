package com.example.demo.Student;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;
import org.springframework.stereotype.Service;

@Service
public class StudentService {
	@Autowired JdbcTemplate jt;
	@Autowired NamedParameterJdbcTemplate njt;
	public int insert(Student s)
	 {
	   String sql = "insert into student values(?,?,?)";
	   int id = s.getId();
	   String name =s.getName();
	   String email = s.getEmail();
	   return jt.update(sql,id,name,email);
	}
	public Map<String, String> insertparam(Student s)
	{
	 Map<String, String> m = new HashMap<String, String>();
	 int result = 0;
	 try  
	 {
	  String sql = "insert into student(id,name,emaily) values(:id,:name,:email)";
	   SqlParameterSource parameters = new MapSqlParameterSource().addValue("id",s.getId())
	    .addValue("name",s.getName())
	    .addValue("email",s.getEmail());
	     result = namedjdbc.update(sql, parameters);
	     if (result > 0)
	     {
	      log.info("success");
	      m.put("Success", "Data inserted successfully");
	     }
	     else
	     {
	      log.info("Fail");
	      m.put("failed", "Data insertion failed");
	     }
	  }
}
